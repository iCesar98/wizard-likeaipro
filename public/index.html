<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Like AI PRO Demo</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 flex items-center justify-center h-screen">

<div class="bg-white w-full max-w-md h-[700px] shadow-2xl rounded-2xl flex flex-col">

  <!-- Header -->
  <div class="bg-black text-white p-4 rounded-t-2xl">
    ðŸ¤– Like AI PRO
  </div>

  <!-- Chat -->
  <div id="chat" class="flex-1 p-4 overflow-y-auto space-y-3"></div>

  <!-- Options -->
  <div id="options" class="p-4 border-t space-y-2"></div>

</div>

<script>
let state = {
  step: 0,
  business_type: null
};

const chat = document.getElementById("chat");
const optionsDiv = document.getElementById("options");

function addBotMessage(text) {
  const div = document.createElement("div");
  div.className = "bg-gray-200 p-3 rounded-lg";
  div.innerText = text;
  chat.appendChild(div);
  chat.scrollTop = chat.scrollHeight;
}

function addUserMessage(text) {
  const div = document.createElement("div");
  div.className = "bg-black text-white p-3 rounded-lg self-end";
  div.innerText = text;
  chat.appendChild(div);
  chat.scrollTop = chat.scrollHeight;
}

function setOptions(options) {
  optionsDiv.innerHTML = "";
  options.forEach(opt => {
    const btn = document.createElement("button");
    btn.className = "w-full bg-gray-100 hover:bg-gray-200 p-2 rounded-lg";
    btn.innerText = opt.label;
    btn.onclick = () => handleOption(opt);
    optionsDiv.appendChild(btn);
  });
}

function handleOption(opt) {
  addUserMessage(opt.label);
  optionsDiv.innerHTML = "";
  opt.action();
}

function startFlow() {
  addBotMessage("Hola ðŸ‘‹ soy Like AI PRO.\nÂ¿QuÃ© tipo de negocio tienes?");
  setOptions([
    { label: "Gym ðŸ’ª", action: () => gymFlow() },
    { label: "ClÃ­nica EstÃ©tica âœ¨", action: () => estFlow() },
    { label: "Restaurante ðŸ½", action: () => restFlow() },
    { label: "Otro", action: () => otherFlow() }
  ]);
}

function gymFlow() {
  state.business_type = "gym";
  addBotMessage("Perfecto ðŸ’ª\nÂ¿CuÃ¡ntos prospectos recibes al mes?");
  setOptions([
    { label: "0-50", action: impactFlow },
    { label: "50-200", action: impactFlow },
    { label: "200+", action: impactFlow }
  ]);
}

function estFlow() {
  state.business_type = "estetica";
  addBotMessage("Excelente âœ¨\nÂ¿Ofreces mÃ¡s servicios?");
  setOptions([
    { label: "Faciales", action: impactFlow },
    { label: "Corporales", action: impactFlow },
    { label: "Ambos", action: impactFlow }
  ]);
}

function restFlow() {
  state.business_type = "restaurante";
  addBotMessage("Genial ðŸ½\nÂ¿CuÃ¡l es tu mayor problema?");
  setOptions([
    { label: "Reservas", action: impactFlow },
    { label: "Delivery", action: impactFlow },
    { label: "RepeticiÃ³n clientes", action: impactFlow }
  ]);
}

function otherFlow() {
  state.business_type = "otro";
  impactFlow();
}

function impactFlow() {
  addBotMessage("Entendido.\n\nPodrÃ­as estar perdiendo entre 20% y 35% de clientes por falta de seguimiento.\n\nCon Like AI PRO podrÃ­as automatizar el 80% de tu atenciÃ³n.");
  setOptions([
    { label: "SÃ­, quiero verlo ðŸš€", action: closeFlow },
    { label: "Quiero hablar con alguien", action: closeFlow },
    { label: "Solo estaba viendo", action: closeFlow }
  ]);
}

function closeFlow() {
  addBotMessage("Perfecto ðŸš€\nPodemos activar tu sistema esta semana.\n\nÂ¿Quieres agendar llamada?");
  setOptions([
    { label: "Agendar llamada", action: () => alert("AquÃ­ conectaremos Calendly") },
    { label: "Enviar propuesta", action: () => alert("AquÃ­ enviaremos propuesta") },
    { label: "MÃ¡s informaciÃ³n", action: () => alert("MÃ¡s info pronto") }
  ]);
}

startFlow();
</script>

</body>
</html>